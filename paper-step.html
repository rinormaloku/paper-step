<!--
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->
<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../paper-material/paper-material.html">
<link rel="import" href="../iron-flex-layout/iron-flex-layout-classes.html">
<script src="../showdown/dist/showdown.min.js"></script>

<!--
An element providing a solution to no problem in particular.

Example:

```html
<paper-step step="1" elevation="2">
<div>
# Unordered List:

</div>
</paper-step>
```

    results in:
# Unordered List:
@demo
-->
<dom-module id="paper-step">
    <template>
        <style is="custom-style" include="iron-flex"></style>
        <style is="custom-style" include="iron-flex-alignment"></style>
        <style>
            :host {
                margin: 15px;
            }

            paper-material {
                max-width: 700px;
                margin: 0 auto;
                padding: 10px 16px;
            }

            paper-material content {
                display: inline;
            }

            #stepStyle {
                border-right: solid 1px rgba(100, 100, 100, 0.3);
                margin-right: 20px;
                padding-right: 5px;
                margin-left: -5px;
                /*vertical-align: middle;*/
            }

            .hidden {
                visibility: hidden;
                position: relative;
                height: 0px;
                width: 0px;
            }
        </style>

        <paper-material elevation="[[elevation]]" class="layout horizontal center">

            <div class="hidden">
                <content id="myContent"></content>
            </div>
            <template is="dom-if" if="{{isStep(step)}}">
                <div id="stepStyle" class="self-stretch layout vertical around-justified">
                    [[step]].
                </div>
            </template>

            <div id="content" class="flex">
                <div id="target"></div>
            </div>
        </paper-material>
    </template>
    <script>
        Polymer({
            is: 'paper-step',
            properties: {
                step: {
                    type: Number,
                    value: 0
                },
                elevation: {
                    type: Number,
                    value: 1
                },
            },
            ready: function () {
                var distributed = this.getContentChildren('#myContent');
                console.log(distributed);
                var markdown = distributed[0].textContent;
                var text = markdown,
                        target = this.$.target,
                        converter = new showdown.Converter(),
                        html = converter.makeHtml(text);

                console.log(html);

                target.innerHTML = html;
            },
            isStep: function (value) {
                return value != 0;
            },
        });
    </script>
</dom-module>